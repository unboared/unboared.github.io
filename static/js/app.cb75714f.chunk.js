(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{238:function(e){e.exports=JSON.parse('{"screen":{"home":{"startText":"Press A to start the game","clickA":"Click on A"},"game":{"help":"Press each button %{numClick} times to win","clickA":"Click on A","clickB":"Click on B","clickC":"Click on C"},"endgame":{"title":"Final score","goHome":"Back to home","restart":"Restart game"}},"gamepad":{}}')},239:function(e){e.exports=JSON.parse('{"screen":{"home":{"startText":"Appuyez sur A pour d\xe9marrer le jeu","clickA":"Cliquez sur A"},"game":{"help":"Appuyez chaque bouton %{numClick} fois pour gagner","clickA":"Cliquez sur A","clickB":"Cliquez sur B","clickC":"Cliquez sur C"},"endgame":{"title":"Score final","goHome":"Retour au menu","restart":"Recommencer le jeu"}},"gamepad":{}}')},241:function(e){e.exports=JSON.parse('{"common":{"connectedPlayers":"Connected players"},"screen":{"connexionPage":{"title":"Take your phone and start playing","help1":"\ud83d\udca1 When all the players are connected, click on ","help2":"to close this","qrTitle":"Connect with the QR Code","sessionTitle":"Connect with the pin code","sessionHelp":"Go on unboared.com with your phone and click on \\"Join a game\\"","connectedPlayers":" players connected"},"loading":{"gameIFrame":"Loading game ..."}},"gamepad":{"profileSetting":{"title":"Profile Setting","avatarLabel":"Click to change avatar","usernamePlaceholder":"Your username","create":{"usernameLabel":"What is your name ?","submitText":"Enter the game"},"change":{"usernameLabel":"Change username","submitText":"Save"}}}}')},242:function(e){e.exports=JSON.parse('{"common":{"connectedPlayers":"Joueurs connect\xe9s"},"screen":{"connexionPage":{"title":"Prenez votre t\xe9l\xe9phone pour commencer \xe0 jouer","help1":"\ud83d\udca1 Quand tous les joueurs sont connect\xe9s, cliquez sur ","help2":" pour ferme cette fen\xeatre","qrTitle":"Connexion via le QR code","sessionTitle":"Connexion via le code pin","sessionHelp":"Allez sur unboared.com avec votre t\xe9l\xe9phone et cliquez sur \\"Join a game\\"","connectedPlayers":" joueurs connect\xe9s"},"loading":{"gameIFrame":"Chargement du jeu ..."}},"gamepad":{"profileSetting":{"title":"Param\xe8tres Profil","avatarLabel":"Cliquez pour changer d\'avatar","usernamePlaceholder":"Votre pseudo","create":{"usernameLabel":"Quel est votre nom ?","submitText":"Rejoindre le jeu"},"change":{"usernameLabel":"Nouveau pseudo ?","submitText":"Save"}}}}')},303:function(e,t,n){e.exports=n(582)},321:function(e,t){},582:function(e,t,n){"use strict";n.r(t);var r=n(601),c=n(6),a=n.n(c),o=n(1),s=n(293),i=n(600),u=n(593),l=function(e){return e+("/"!==e.charAt(e.length-1)?"/":"")+"gamepad"},j=function(e,t,n,r){return function(e,t,n,r,c){return t+"/gamepad/"+n+"?url="+encodeURIComponent(""+e)+(r?"&wss="+encodeURIComponent(r):"")+(c?"&version="+encodeURIComponent(c):"")}(e,t,"{sessionID}",n,r)},d=n(15),b=n(53),f=n(67),O=n(74),g=n(4),m=n(113),p=Object(m.createGlobalStorage)((function(e){return{urlParams:void 0,setUrlParams:function(t){e({urlParams:t})}}})),h=function(e){var t=p((function(e){return e.setUrlParams}));Object(o.useEffect)((function(){t(e.params)}),[e])},x=n(3),v=n(5),y=n(14),S=n(2),C=v.default.create({center:{flex:1,alignSelf:"stretch",alignItems:"center",justifyContent:"center"}}),D=function(){var e=Object(g.useCommunication)().emitAction;return Object(S.jsx)(y.ThemeProvider,{theme:y.unboaredTheme.dark,children:Object(S.jsxs)(x.default,{style:[C.center,{backgroundColor:y.unboaredTheme.dark.backgroundColor}],children:[!1,Object(S.jsx)(y.Button,{icon:"play",text:"Start game",onPress:function(){return e("pressStart",{})}})]})})},P=n(81),k=n(178),I=function(){var e=Object(y.useNormalize)().normalize,t=Object(g.useUnboared)(),n=function(){t.loadScene("test")};Object(g.useListener)("pressTest",n);var r=function(){t.loadScene("inGame")};return Object(g.useListener)("pressStart",r),Object(S.jsxs)(x.default,{style:{flex:1,backgroundColor:y.unboaredTheme.dark.backgroundColor},children:[Object(S.jsx)(k.ConnexionInstructions,{url:t.getSessionLink(),roomID:t.getSessionID(),connectedPlayers:t.getPlayers(),masterID:t.getUID(t.getMasterID())||""}),Object(S.jsxs)(x.default,{style:{position:"absolute",right:e(20),bottom:e(20)},children:[!1,Object(S.jsx)(P.Button,{icon:"play",text:"Start Game",onPress:r})]})]})},w=function(e){var t=e.style,n=Object(g.useDeviceState)().getDeviceState,r=Object(g.usePlayers)(),c=r.getUsername,a=r.getDeviceID,o=r.getGamepadIDs,s=r.getScreenIDs,i=r.getHostID,u=r.getPlayer,l=[{},t];return Object(S.jsxs)(x.default,{style:l,children:[Object(S.jsx)(y.Heading,{type:"h3",children:"Me"}),Object(S.jsxs)(y.Text,{children:["myDeviceID=",a()]}),Object(S.jsxs)(y.Text,{children:["hostID=",i()]}),Object(S.jsxs)(y.Text,{children:["state=",JSON.stringify(n(a()))]}),Object(S.jsxs)(y.Text,{children:["player=",JSON.stringify(u(a()))]}),Object(S.jsx)(y.Heading,{type:"h3",children:"Screens"}),s().map((function(e){return Object(S.jsxs)(y.Text,{children:[e,"=state(",JSON.stringify(n(e)),")"]},e)})),Object(S.jsx)(y.Heading,{type:"h3",children:"Gamepads"}),o().map((function(e){return Object(S.jsxs)(y.Text,{children:[e,"=state(",JSON.stringify(n(e)),")&username(",c(e),")"]},e)}))]})},_=n(8),T=n.n(_),L=n(12),A=n.n(L),F=function(e){var t=[{},e.style],n=Object(o.useState)([]),r=A()(n,2),c=r[0],a=r[1];return Object(o.useEffect)((function(){var e=Object(g.onReady)(g.api,(function(e){a((function(t){return[].concat(T()(t),["[onReady] "+JSON.stringify(e)])}))}));return function(){return Object(g.offReady)(g.api,e)}}),[]),Object(o.useEffect)((function(){var e=Object(g.onSceneChange)(g.api,(function(e){a((function(t){return[].concat(T()(t),["[onSceneChange] "+JSON.stringify(e)])}))}));return function(){return Object(g.offSceneChange)(g.api,e)}}),[]),Object(o.useEffect)((function(){var e=Object(g.onConnect)(g.api,(function(e){a((function(t){return[].concat(T()(t),["[onConnect] "+JSON.stringify(e)])}))}));return function(){return Object(g.offConnect)(g.api,e)}}),[]),Object(o.useEffect)((function(){var e=Object(g.onDisconnect)(g.api,(function(e){a((function(t){return[].concat(T()(t),["[onDisconnect] "+JSON.stringify(e)])}))}));return function(){return Object(g.offDisconnect)(g.api,e)}}),[]),Object(o.useEffect)((function(){var e=Object(g.onPlayerChange)(g.api,(function(e){a((function(t){return[].concat(T()(t),["[onPlayerChange] "+JSON.stringify(e)])}))}));return function(){return Object(g.offPlayerChange)(g.api,e)}}),[]),Object(o.useEffect)((function(){var e=Object(g.onDeviceStateChange)(g.api,(function(e){a((function(t){return[].concat(T()(t),["[onDeviceStateChange] "+JSON.stringify(e)])}))}));return function(){return Object(g.offDeviceStateChange)(g.api,e)}}),[]),Object(o.useEffect)((function(){var e=Object(g.onMute)(g.api,(function(e){a((function(t){return[].concat(T()(t),["[onMute] "+JSON.stringify(e)])}))}));return function(){return Object(g.offMute)(g.api,e)}}),[]),Object(o.useEffect)((function(){var e=Object(g.onPause)(g.api,(function(e){a((function(t){return[].concat(T()(t),["[onPause] "+JSON.stringify(e)])}))}));return function(){return Object(g.offPause)(g.api,e)}}),[]),Object(o.useEffect)((function(){var e=Object(g.onResume)(g.api,(function(e){a((function(t){return[].concat(T()(t),["[onResume] "+JSON.stringify(e)])}))}));return function(){return Object(g.offResume)(g.api,e)}}),[]),Object(S.jsxs)(x.default,{style:t,children:[Object(S.jsx)(y.Heading,{type:"h3",text:"Events"}),c.map((function(e,t){return Object(S.jsx)(y.Text,{children:e},t)}))]})},R=v.default.create({center:{flex:1,alignSelf:"stretch"}}),U=function(){var e=Object(g.useCommunication)().emitAction,t=Object(y.useNormalize)().normalize;return Object(S.jsx)(y.ThemeProvider,{theme:y.unboaredTheme.dark,children:Object(S.jsxs)(x.default,{style:[R.center,{flexDirection:"row",backgroundColor:y.unboaredTheme.dark.backgroundColor}],children:[Object(S.jsx)(x.default,{style:{flex:1,flexShrink:1},children:Object(S.jsx)(w,{})}),Object(S.jsx)(x.default,{style:{flex:1,flexShrink:1},children:Object(S.jsx)(F,{})}),Object(S.jsx)(x.default,{style:{position:"absolute",left:t(20),bottom:t(20)},children:Object(S.jsx)(y.Button,{icon:"return",text:"Back",onPress:function(){return e("pressBack",{})}})})]})})},E=function(){var e=Object(y.useNormalize)().normalize,t=Object(g.useScene)().loadScene,n=function(){t("connexion")};return Object(g.useListener)("pressBack",n),function(){var e=Object(g.usePlayers)().getDeviceID,t=Object(o.useState)(!0),n=A()(t,2),r=n[0],c=n[1];return Object(o.useEffect)((function(){var t=Object(g.api)().onDisconnect((function(t){t===e()&&c(!1)}));return function(){return Object(g.api)().offDisconnect(t)}}),[]),Object(o.useEffect)((function(){var t=Object(g.api)().onConnect((function(t){t===e()&&c(!0)}));return function(){return Object(g.api)().offConnect(t)}}),[]),r}()?Object(S.jsxs)(x.default,{style:{flex:1,flexDirection:"row",backgroundColor:y.unboaredTheme.dark.backgroundColor},children:[Object(S.jsx)(x.default,{style:{flex:1,flexShrink:1},children:Object(S.jsx)(w,{})}),Object(S.jsx)(x.default,{style:{flex:1,flexShrink:1},children:Object(S.jsx)(F,{})}),Object(S.jsx)(x.default,{style:{position:"absolute",left:e(20),bottom:e(20)},children:Object(S.jsx)(P.Button,{icon:"return",text:"Back",onPress:n})})]}):Object(S.jsx)(x.default,{style:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:y.unboaredTheme.dark.backgroundColor},children:Object(S.jsx)(y.Heading,{text:"Bad internet connection"})})};function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H="unboared::webview::transmit",G=new Map([["0.1",function(e){var t=e.title,n=e.src,r=Object(o.useRef)(null),c=Object(f.useLanguage)((function(e){return e.language})),a=Object(o.useRef)("home"),s=Object(y.useTranslate)().translate,i=Object(o.useState)(!1),u=A()(i,2),l=u[0],j=u[1],d=Object(g.usePlayers)(),O=(d.getMasterID,d.getUID),m=d.getColor,p=d.getUsername,h=d.getAvatar,x=d.isScreen,v=(d.getPlayer,d.getDeviceID),C=d.getPlayers,D=x()?"screen":"gamepad",P={uid:O(),username:p(),avatar:h(),color:m()},k=Object(g.useCommunication)(),I=k.send,w=k.emitAction,_=k.broadcast,T=Object(o.useCallback)((function(e){r.current&&r.current.contentWindow.postMessage(e,n)}),[r]);return Object(o.useEffect)((function(){var e=function(e){console.log("# New message from "+e.origin),console.log("--\x3e "+JSON.stringify(e.data));var n=e.data;"__onReady__"===n.action?(j(!0),T({name:"__onReady__",players:C(),me:P,masterID:Object(g.api)().getUID(Object(g.api)().getMasterID()),scenario:{game:t,scenario:"home",scenarioComponent:void 0},type:D,roomID:Object(g.api)().getSessionID(),language:c}),w("__askChildState__",{from:v()})):"send"===n.action?""!==n.deviceID?"__set__"==n.name?_("__setGlobalState__",n):I(n.deviceID,"__message__",n):w("__message__",n):"sendServer"===n.action&&"changeScenario"===n.name&&_("__changeWebviewScenario__",{game:n.game,scenario:n.scenario})};return window.addEventListener("message",e),function(){return window.removeEventListener("message",e)}}),[]),Object(g.useListener)("__message__",(function(e){T(e)}),[]),Object(g.useListener)("__setGlobalState__",(function(e){Object(g.api)().isScreen(Object(g.api)().getDeviceID())||T(B({name:"__set__"},e))})),Object(g.useListener)("__childState__",(function(e){T({name:"changeScenario",game:t,scenario:e.scene})})),Object(g.useListener)("__askChildState__",(function(e){I(e.from,"__childState__",{scene:a.current})})),Object(g.useListener)("__changeWebviewScenario__",(function(e){Object(g.api)().isScreen(Object(g.api)().getDeviceID())?a.current=e.scenario:T(B({name:"changeScenario"},e))}),[a]),Object(o.useEffect)((function(){var e=Object(g.api)().onConnect((function(e){T({name:"__onConnect__",uid:Object(g.api)().getUID(e),username:Object(g.api)().getUsername(e),avatar:Object(g.api)().getAvatar(e),color:Object(g.api)().getColor(e)}),T({name:"__onMasterID__",masterID:Object(g.api)().getUID(Object(g.api)().getMasterID())})}));return function(){return Object(g.api)().offConnect(e)}}),[]),Object(o.useEffect)((function(){var e=Object(g.api)().onDisconnect((function(e){T({name:"__onDisconnect__",deviceID:e,masterID:Object(g.api)().getUID(Object(g.api)().getMasterID())})}));return function(){return Object(g.api)().offDisconnect(e)}}),[]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(y.FullPageOverlay,{active:!l,children:Object(S.jsx)(b.UnboaredPageLoader,{infos:s("screen.loading.gameIFrame")})}),Object(S.jsx)("iframe",{ref:r,title:t,src:n,width:"100%",height:"100%",frameBorder:"0"})]})}],["0.3",function(e){var t=e.title,n=e.src,r=Object(o.useRef)(null),c=Object(y.useTranslate)().translate,a=function(e,t){var n=Object(o.useState)(!1),r=A()(n,2),c=r[0],a=r[1],s=Object(f.useLanguage)((function(e){return e.language})),i=Object(g.usePlayers)().getPlayer,u=Object(o.useCallback)((function(n){e.current&&e.current.contentWindow.postMessage(n,t)}),[e]);return Object(o.useEffect)((function(){var e=Object(g.api)().onConnect((function(e){u({action:"connect",data:{deviceID:e,data:{state:Object(g.api)().getDeviceState(e),player:i(e)}}})}));return function(){return Object(g.api)().offConnect(e)}}),[]),Object(o.useEffect)((function(){var e=Object(g.api)().onDisconnect((function(e){u({action:"disconnect",data:{deviceID:e}})}));return function(){return Object(g.api)().offDisconnect(e)}}),[]),Object(o.useEffect)((function(){var e=Object(g.api)().onPlayerChange((function(e){u({action:"setPlayer",data:{deviceID:e,player:i(e)}})}));return function(){return Object(g.api)().offPlayerChange(e)}}),[]),Object(o.useEffect)((function(){var e=Object(g.api)().onDeviceStateChange((function(e){u({action:"setDeviceState",data:{deviceID:e,state:Object(g.api)().getDeviceState(e)}})}));return function(){return Object(g.api)().offDeviceStateChange(e)}}),[]),Object(o.useEffect)((function(){var e=Object(g.api)().onDeviceStatePropertyChange((function(e,t){u({action:"onDeviceStatePropertyChange",data:{deviceID:e,key:t,value:Object(g.api)().getDeviceStateProperty(e,t)}})}));return function(){return Object(g.api)().offDeviceStatePropertyChange(e)}}),[]),Object(g.useListener)(H,u,[]),Object(o.useEffect)((function(){var e=function(e){var t=e.data;if("onReady"===t.action){a(!0);var n=[];for(var r of Object(g.api)().getScreenIDs())n.push({deviceID:r,data:{player:i(r),state:Object(g.api)().getDeviceState(r)}});for(var c of Object(g.api)().getGamepadIDs())n.push({deviceID:c,data:{player:i(c),state:Object(g.api)().getDeviceState(c)}});u({action:"ready",data:{hostID:Object(g.api)().getHostID(),myDeviceID:Object(g.api)().getDeviceID(),devices:n,session:{id:Object(g.api)().getSessionID(),url:Object(g.api)().getSessionLink()},language:s}})}else"send"==t.action?Object(g.api)().send(t.to,H,t.data):"broadcast"==t.action?Object(g.api)().broadcast(H,t.data):"navigateToHome"==t.action?Object(g.api)().navigateToHome():"navigateTo"==t.action?Object(g.api)().navigateTo(t.data.url):"debug"==t.action&&console.log("[Debug] Debug message:",t.data)};return window.addEventListener("message",e),function(){return window.removeEventListener("message",e)}}),[]),{isReady:c}}(r,n).isReady;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(y.FullPageOverlay,{active:!a,children:Object(S.jsx)(b.UnboaredPageLoader,{infos:c("screen.loading.gameIFrame")})}),Object(S.jsx)("iframe",{ref:r,title:t,src:n,width:"100%",height:"100%",frameBorder:"0"})]})}]]),z=T()(G.keys()),J=function(e){var t=e.title,n=e.src,r=e.version,c=void 0===r?"0.1":r,a=G.get(z.indexOf(c)>=0?c:"0.1");return Object(S.jsx)(a,{title:t,src:n})},M=function(){var e=p((function(e){return e.urlParams}));return Object(S.jsx)(y.ThemeProvider,{theme:y.unboaredTheme.dark,children:Object(S.jsx)(x.default,{style:{flex:1,backgroundColor:y.unboaredTheme.dark.backgroundColor},children:Object(S.jsx)(J,{title:e.name,src:e.url,version:e.version})})})},q=function(){var e=p((function(e){return e.urlParams}));return Object(S.jsx)(y.ThemeProvider,{theme:y.unboaredTheme.dark,children:Object(S.jsx)(x.default,{style:{flex:1,backgroundColor:y.unboaredTheme.dark.backgroundColor},children:Object(S.jsx)(J,{title:e.name,src:e.url,version:e.version})})})},W={connexion:{gamepad:Object(S.jsx)(D,{}),screen:Object(S.jsx)(I,{})},inGame:{gamepad:Object(S.jsx)(M,{}),screen:Object(S.jsx)(q,{})},test:{gamepad:Object(S.jsx)(U,{}),screen:Object(S.jsx)(E,{})}},Q="web"===d.default.OS?window.location.protocol+"//"+window.location.host:"https://run.unboared.com/",V=function(e){var t=e.route;h(t);var n=p((function(e){return e.urlParams}));return n?Object(S.jsx)(g.UnboaredGame,{name:"game-runner",initialScene:"connexion",loader:Object(S.jsx)(b.UnboaredPageLoader,{infos:"Connexion to the server..."}),config:g.CommunicationConfig.getSocketIO("screen",n.wss||"https://socket-server-v03.herokuapp.com/",{url:j(n.gamepadURL||l(n.url),Q,n.wss,n.version)}),children:Object(S.jsx)(K,{})}):Object(S.jsx)(b.UnboaredPageLoader,{infos:"Loading parameters..."})},K=function(){Object(f.usePreferedLanguage)(),Object(O.useScreenScale)();var e,t=Object(g.useScene)(),n=t.getScene,r=t.sceneComponent,c=t.loadScene;return Object(o.useEffect)((function(){c("connexion")}),[]),n()?r||(e=n(),W[e].screen):Object(S.jsx)(b.UnboaredPageLoader,{infos:"Loading scene"})},Y=n(281),X=n(46),Z=n(82),$=function(e,t){return{uid:""+Math.floor(1e8*Math.random()),username:e,avatar:t,color:""}},ee=[$("Marion","https://avatars.dicebear.com/api/adventurer/198.svg"),$("Nelly","https://avatars.dicebear.com/api/adventurer/1.svg"),$("Regis","https://avatars.dicebear.com/api/adventurer/1&2.svg"),$("Dorian","https://avatars.dicebear.com/api/adventurer/12.svg"),$("Mark","https://avatars.dicebear.com/api/adventurer/12aadzesdfd54s.svg"),$("Nolwenn","https://avatars.dicebear.com/api/adventurer/1dzeqdsef.svg"),$("Bob","https://avatars.dicebear.com/api/adventurer/333.svg"),$("Geraldine","https://avatars.dicebear.com/api/adventurer/12dsqd.svg"),$("Claudine","https://avatars.dicebear.com/api/adventurer/claudine.svg")],te=function(e){var t=e.player,n=e.onSelected,r=Object(y.useNormalize)().normalize;return Object(S.jsxs)(Z.default,{style:{margin:r(y.space.tiny),padding:r(y.space.tiny),alignItems:"center",justifyContent:"center",borderRadius:r(10),backgroundColor:Object(y.transparency)("dark",.2)},onPress:function(){return n(t)},children:[Object(S.jsx)(X.default,{style:{width:r(40),height:r(40)},source:{uri:t.avatar}}),Object(S.jsx)(y.Heading,{type:"h5",text:t.username})]})},ne=function(e){var t=e.onSelected,n=Object(y.useNormalize)().normalize,r=ee;return Object(S.jsx)(x.default,{style:{flex:1,justifyContent:"flex-end",backgroundColor:y.unboaredDarkTheme.backgroundColor},children:Object(S.jsx)(x.default,{style:{padding:n(y.space.medium),flexDirection:"row",flexWrap:"wrap",justifyContent:"space-around"},children:r.map((function(e,n){return Object(S.jsx)(te,{player:e,onSelected:t},n)}))})})},re=function(e){var t=e.route;return Object(O.useGamepadScale)(),h(t),p((function(e){return e.urlParams}))?Object(S.jsx)(ce,{}):Object(S.jsx)(b.UnboaredPageLoader,{infos:"Loading parameters..."})},ce=function(){var e=Object(o.useState)(!1),t=A()(e,2),n=t[0],r=t[1],c=(Object(Y.useFullscreen)().toggleFullscreen,Object(o.useState)()),a=A()(c,2),s=a[0],i=a[1],u=p((function(e){return e.urlParams}));return n?Object(S.jsx)(g.UnboaredGame,{name:"game-runner",initialScene:"connexion",loader:Object(S.jsx)(b.UnboaredPageLoader,{infos:"Connexion to the server..."}),config:g.CommunicationConfig.getSocketIO("gamepad",u.wss||"https://socket-server-v03.herokuapp.com/",{id:u.sessionID},s),children:Object(S.jsx)(ae,{})}):Object(S.jsx)(ne,{onSelected:function(e){r(!0),i(e)}})},ae=function(){var e=Object(g.useScene)().getScene();return e?function(e){return W[e].gamepad}(e):Object(S.jsx)(b.UnboaredPageLoader,{infos:"Loading scene"})},oe=n(23),se=n(238),ie=n(239),ue=n(41),le=v.default.create({center:{flex:1,alignSelf:"stretch",alignItems:"center",justifyContent:"center"}}),je=function(){var e=Object(g.useCommunication)().emitAction;return Object(S.jsxs)(x.default,{style:le.center,children:[Object(S.jsx)(ue.default,{style:[le.center,{backgroundColor:"#FAF"}],onPress:function(){return e("pressA")},children:Object(S.jsx)(oe.default,{children:"A"})}),Object(S.jsx)(ue.default,{style:[le.center,{backgroundColor:"#AFF"}],onPress:function(){return e("pressB")},children:Object(S.jsx)(oe.default,{children:"B"})})]})},de=n(19),be=n.n(de),fe=["color","style"];function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ge=function(e){var t=e.color,n=e.style,r=be()(e,fe),c=[n,{backgroundColor:t}];return Object(S.jsx)(x.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({style:c},r))},me=v.default.create({center:{flex:1,alignSelf:"stretch",alignItems:"center",justifyContent:"center"}}),pe=function(){var e=Object(y.useTranslate)().translate,t=Object(g.useScene)(),n=t.loadScene,r=t.getScene,c=function(){return n("game")};return Object(g.useListener)("pressA",c),Object(S.jsxs)(x.default,{style:me.center,children:[Object(S.jsxs)(ge,{style:me.center,color:"#FFF",children:[Object(S.jsxs)(oe.default,{children:["Scene : ",r()]}),Object(S.jsx)(oe.default,{children:e("screen.home.startText")})]}),Object(S.jsx)(Z.default,{style:[me.center,{backgroundColor:"#FAF"}],onPress:c,children:Object(S.jsx)(oe.default,{children:e("screen.home.clickA")})})]})},he=v.default.create({center:{flex:1,alignSelf:"stretch",alignItems:"center",justifyContent:"center"}}),xe=function(){var e=Object(g.useCommunication)().emitAction;return Object(S.jsxs)(x.default,{style:he.center,children:[Object(S.jsx)(ue.default,{style:[he.center,{backgroundColor:"#FAF"}],onPress:function(){return e("pressA")},children:Object(S.jsx)(oe.default,{children:"A"})}),Object(S.jsx)(ue.default,{style:[he.center,{backgroundColor:"#AFF"}],onPress:function(){return e("pressB")},children:Object(S.jsx)(oe.default,{children:"B"})}),Object(S.jsx)(ue.default,{style:[he.center,{backgroundColor:"#FFA"}],onPress:function(){return e("pressC")},children:Object(S.jsx)(oe.default,{children:"C"})})]})},ve=v.default.create({center:{flex:1,alignSelf:"stretch",alignItems:"center",justifyContent:"center"}}),ye=function(){var e=Object(g.useScene)(),t=e.getScene,n=e.loadScene,r=Object(g.useDeviceState)().loadDeviceState,c=Object(g.usePlayers)().getDeviceID,a=Object(y.useTranslate)().translate,s=Object(o.useState)(0),i=A()(s,2),u=i[0],l=i[1],j=Object(o.useState)(0),d=A()(j,2),b=d[0],f=d[1],O=Object(o.useState)(0),m=A()(O,2),p=m[0],h=m[1];return Object(g.useListener)("pressA",(function(){return l((function(e){return e+1}))})),Object(g.useListener)("pressB",(function(){return f((function(e){return e+1}))})),Object(g.useListener)("pressC",(function(){return h((function(e){return e+1}))})),Object(o.useEffect)((function(){u>=5&&b>=5&&p>=5&&(r(c(),{finalScore:u+b+p}),n("endgame"))}),[u,b,p]),Object(S.jsxs)(x.default,{style:ve.center,children:[Object(S.jsxs)(ge,{style:ve.center,color:"#FFF",children:[Object(S.jsxs)(oe.default,{children:["Scene : ",t()]}),Object(S.jsxs)(oe.default,{children:[a("screen.game.help",{numClick:5})," "]})]}),Object(S.jsx)(ge,{style:ve.center,color:"#FAF",children:Object(S.jsxs)(oe.default,{children:[a("screen.game.clickA")," : ",u]})}),Object(S.jsx)(ge,{style:ve.center,color:"#AFF",children:Object(S.jsxs)(oe.default,{children:[a("screen.game.clickB")," : ",b]})}),Object(S.jsx)(ge,{style:ve.center,color:"#FFA",children:Object(S.jsxs)(oe.default,{children:[a("screen.game.clickC")," : ",p]})})]})},Se=v.default.create({center:{flex:1,alignSelf:"stretch",alignItems:"center",justifyContent:"center"}}),Ce=function(){var e=Object(g.useCommunication)().emitAction;return Object(S.jsxs)(x.default,{style:Se.center,children:[Object(S.jsx)(ue.default,{style:[Se.center,{backgroundColor:"#FAF"}],onPress:function(){return e("pressA")},children:Object(S.jsx)(oe.default,{children:"A"})}),Object(S.jsx)(ue.default,{style:[Se.center,{backgroundColor:"#AFF"}],onPress:function(){return e("pressB")},children:Object(S.jsx)(oe.default,{children:"B"})})]})},De=v.default.create({center:{flex:1,alignSelf:"stretch",alignItems:"center",justifyContent:"center"}}),Pe=function(){var e=Object(y.useTranslate)().translate,t=Object(g.useDeviceStateProperty)().getDeviceStateProperty,n=Object(g.usePlayers)().getDeviceID,r=Object(g.useScene)(),c=r.getScene,a=r.loadScene,o=t(n(),"finalScore");return Object(g.useListener)("pressA",(function(){return a("home")})),Object(g.useListener)("pressB",(function(){return a("game")})),Object(S.jsxs)(x.default,{style:De.center,children:[Object(S.jsxs)(ge,{style:De.center,color:"#FFF",children:[Object(S.jsxs)(oe.default,{children:["Scene : ",c()]}),Object(S.jsxs)(oe.default,{children:[e("screen.endgame.title")," : ",o," (",15===o?"Congratulations":"Try again",")"]})]}),Object(S.jsx)(ge,{style:De.center,color:"#FAF",children:Object(S.jsxs)(oe.default,{children:["A : ",e("screen.endgame.goHome")]})}),Object(S.jsx)(ge,{style:De.center,color:"#AFF",children:Object(S.jsxs)(oe.default,{children:["B : ",e("screen.endgame.restart")]})})]})},ke={home:{gamepad:Object(S.jsx)(je,{}),screen:Object(S.jsx)(pe,{})},game:{gamepad:Object(S.jsx)(xe,{}),screen:Object(S.jsx)(ye,{})},endgame:{gamepad:Object(S.jsx)(Ce,{}),screen:Object(S.jsx)(Pe,{})}};y.i18n.translations={en:se,fr:ie};var Ie=function(){var e,t=Object(g.useScene)(),n=t.getScene,r=t.sceneComponent;t.loadScene;return n()?r||(e=n(),ke[e].screen):Object(S.jsx)(b.UnboaredPageLoader,{infos:"Loading scene"})},we=function(){return Object(S.jsx)(g.UnboaredGame,{name:"webview",initialScene:"home",loader:Object(S.jsx)(oe.default,{children:"Loading screen ..."}),children:Object(S.jsx)(Ie,{})})};y.i18n.translations={en:se,fr:ie};var _e=function(){var e,t=Object(g.useScene)().getScene;return e=t(),ke[e].gamepad},Te=function(){return Object(S.jsx)(g.UnboaredGame,{name:"webview",initialScene:"home",loader:Object(S.jsx)(oe.default,{children:"Loading gamepad ..."}),children:Object(S.jsx)(_e,{})})},Le=n(592),Ae=function(){var e=Object(Le.default)(),t=Object(y.useNormalize)().normalize,n=Object(o.useState)(""),r=A()(n,2),c=r[0],a=r[1],s=Object(o.useState)(""),i=A()(s,2),u=i[0],j=i[1],d=Object(o.useState)(""),b=A()(d,2),f=b[0],O=b[1],g=Object(o.useState)(""),m=A()(g,2),p=m[0],h=m[1],v=Object(o.useState)(""),C=A()(v,2),D=C[0],P=C[1],k=Object(o.useState)(!1),I=A()(k,2),w=I[0],_=I[1],T=Object(o.useState)("0.3"),L=A()(T,2),F=L[0],R=L[1],U=Object(o.useState)(z.map((function(e){return{label:"v"+e,value:e}}))),E=A()(U,2),N=E[0],B=E[1],H=z.slice(0,z.indexOf("0.3")).includes(F);return Object(S.jsxs)(x.default,{style:{flex:1,backgroundColor:y.unboaredTheme.dark.backgroundColor},children:[Object(S.jsxs)(x.default,{style:{flex:H?.3:.2,alignItems:"center",justifyContent:"center"},children:[Object(S.jsx)(y.Heading,{text:"Game Runner"}),H&&Object(S.jsxs)(x.default,{style:{marginTop:t(y.space.small)},children:[Object(S.jsx)(y.Heading,{type:"h3",text:"Game",style:{marginBottom:t(y.space.smaller)}}),Object(S.jsx)(y.TextInput,{text:c,onChangeText:a,placeholder:"Game Name ..."})]})]}),Object(S.jsxs)(x.default,{style:{flex:1,flexDirection:"row"},children:[Object(S.jsxs)(x.default,{style:{flex:1,margin:t(y.space.large),backgroundColor:Object(y.transparency)("dark"),borderRadius:t(y.space.small),padding:t(y.space.small),alignItems:"center",justifyContent:"space-around"},children:[Object(S.jsx)(y.Heading,{type:"h2",text:"Screen"}),Object(S.jsxs)(x.default,{children:[Object(S.jsx)(y.Heading,{type:"h3",text:"Screen url"}),Object(S.jsx)(y.TextInput,{style:{marginTop:t(y.space.smaller)},text:u,onChangeText:j,placeholder:"url of the screen ..."})]}),Object(S.jsxs)(x.default,{children:[Object(S.jsx)(y.Heading,{type:"h3",text:"Gamepad url (optional)"}),Object(S.jsxs)(y.Text,{children:["By default:",Object(S.jsx)(y.Text,{style:{color:y.color.error},children:" [SCREEN URL]/gamepad"})]}),Object(S.jsx)(y.TextInput,{style:{marginTop:t(y.space.smaller)},text:f,onChangeText:O,placeholder:"url of the gamepads ..."})]}),Object(S.jsx)(y.Button,{text:"Launch",onPress:function(){(H&&c||u)&&e(function(e,t,n,r){return"/screen?url="+encodeURIComponent(t)+(e?"&name="+encodeURIComponent(e):"")+"&version="+r+"&gamepadURL="+encodeURIComponent(n)}(c,u,f||l(u),F))}})]}),Object(S.jsxs)(x.default,{style:{flex:1,margin:t(y.space.large),backgroundColor:Object(y.transparency)("dark"),borderRadius:t(y.space.small),padding:t(y.space.small),alignItems:"center",justifyContent:"space-around"},children:[Object(S.jsx)(y.Heading,{type:"h2",text:"Gamepad"}),Object(S.jsxs)(x.default,{children:[Object(S.jsx)(y.Heading,{type:"h3",text:"Session ID"}),Object(S.jsx)(y.TextInput,{style:{marginTop:t(y.space.smaller)},text:p,onChangeText:h,placeholder:"session id ..."})]}),Object(S.jsxs)(x.default,{children:[Object(S.jsx)(y.Heading,{type:"h3",text:"Gamepad Url"}),Object(S.jsx)(y.TextInput,{style:{marginTop:t(y.space.smaller)},text:D,placeholder:"url of the gamepad ...",onChangeText:P})]}),Object(S.jsx)(y.Button,{text:"Launch",onPress:function(){(H&&c||D&&p)&&e(function(e,t,n,r){return"/gamepad/"+t+"?url="+encodeURIComponent(n)+(e?"&name="+encodeURIComponent(e):"")+"&version="+r}(c,p,D,F))}})]})]}),Object(S.jsx)(x.default,{style:{position:"absolute",left:t(y.space.small),top:t(y.space.small)},children:Object(S.jsx)(y.DropDown,{style:{minHeight:0,minWidth:0,backgroundColor:y.unboaredTheme.dark.backgroundColor},theme:"DARK",open:w,value:F,items:N,setOpen:_,setValue:R,setItems:B})})]})};function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ue=Object(u.default)(),Ee=function(){return Object(S.jsxs)(Ue.Navigator,{initialRouteName:"Home",screenOptions:{headerShown:!1},children:[Object(S.jsx)(Ue.Screen,{name:"Home",component:Ae}),Object(S.jsx)(Ue.Screen,{name:"Screen",component:V}),Object(S.jsx)(Ue.Screen,{name:"Gamepad",component:re}),Object(S.jsx)(Ue.Screen,{name:"WebviewScreenApp",component:we}),Object(S.jsx)(Ue.Screen,{name:"WebviewGamepadApp",component:Te})]})},Ne={prefixes:[s.createURL("/"),"unboared://"],config:{screens:{Home:"/",Screen:"/screen",Gamepad:"/gamepad/:sessionID",WebviewScreenApp:"/webview",WebviewGamepadApp:"/webview/gamepad"}}};function Be(e){return Object(S.jsx)(i.default,Re(Re({linking:Ne,documentTitle:{formatter:function(e,t){var n;return"game-runner \u2022 "+(null!=(n=null==e?void 0:e.title)?n:null==t?void 0:t.name)}}},e),{},{children:Object(S.jsx)(y.ThemeProvider,{theme:y.unboaredTheme.dark,children:Object(S.jsx)(Ee,{})})}))}var He=n(241),Ge=n(242);y.i18n.translations={en:He,fr:Ge},Object(r.default)((function(){return Object(S.jsx)(Be,{})}))}},[[303,1,2]]]);
//# sourceMappingURL=app.cb75714f.chunk.js.map